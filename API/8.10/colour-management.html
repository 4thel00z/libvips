<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <title>libvips</title>
    <meta name="description" content="A fast image processing library with low memory needs.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Cabin:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/libvips/assets/css/style.css">
    <link rel="shortcut icon" type="image/x-icon" href="/libvips/favicon.ico">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name"><a href="/libvips">libvips</a></h1>
      <h2 class="project-tagline">A fast image processing library with low memory needs.</h2>
      <a href="https://github.com/libvips/libvips" class="btn">Project on GitHub</a>
      <a href="https://github.com/libvips/libvips/releases" class="btn">Download</a>
      <a href="/libvips/install.html" class="btn">Install</a>
      <a href="/libvips/API/current" class="btn">Documentation</a>
      <a href="https://github.com/libvips/libvips/issues" class="btn">Issues</a>
      <a href="https://github.com/libvips/libvips/wiki" class="btn">Wiki</a>
    </section>

    <section class="main-content">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="5"><tr valign="middle">
<td width="100%" align="left" class="shortcuts"></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="16" height="16" border="0" alt="Home"></a></td>
<td><a accesskey="u" href="Using-vipsthumbnail.md.html"><img src="up.png" width="16" height="16" border="0" alt="Up"></a></td>
<td><a accesskey="p" href="output-format-and-options.html"><img src="left.png" width="16" height="16" border="0" alt="Prev"></a></td>
<td><a accesskey="n" href="final-suggestion.html"><img src="right.png" width="16" height="16" border="0" alt="Next"></a></td>
</tr></table>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="colour-management"></a>Colour management</h2></div></div></div>
<p>
    <code class="literal">vipsthumbnail</code> will optionally put images through LittleCMS for you. You can use this to move all thumbnails to the same colour space. All web browsers assume that images without an ICC profile are in sRGB colourspace, so if you move your thumbnails to sRGB, you can strip all the embedded profiles. This can save several kb per thumbnail.
  </p>
<p>
    For example:
  </p>
<pre class="programlisting">
$ vipsthumbnail shark.jpg
$ ls -l tn_shark.jpg 
-rw-r–r– 1 john john 7295 Nov  9 14:33 tn_shark.jpg
</pre>
<p>
    Now transform to sRGB and don’t attach a profile (you can also use <code class="literal">strip</code>, though that will remove <span class="emphasis"><em>all</em></span> metadata from the image):
  </p>
<pre class="programlisting">
$ vipsthumbnail shark.jpg --eprofile srgb -o tn_shark.jpg[profile=none]
$ ls -l tn_shark.jpg 
-rw-r–r– 1 john john 4229 Nov  9 14:33 tn_shark.jpg
</pre>
<p>
    (You can use the filename of any RGB profile. The magic string <code class="literal">srgb</code> selects a high-quality sRGB profile that’s built into libvips.)
  </p>
<p>
    <code class="literal">tn_shark.jpg</code> will look identical to a user, but it’s almost half the size.
  </p>
<p>
    You can also specify a fallback input profile to use if the image has no embedded one. This can often happen with CMYK images, producing an error message like:
  </p>
<pre class="programlisting">
$ vipsthumbnail kgdev.jpg
vipsthumbnail: unable to thumbnail kgdev.jpg
vips_colourspace: no known route from 'cmyk' to 'srgb'
</pre>
<p>
    If you supply a CMYK profile, it will be able to convert the image, for example:
  </p>
<pre class="programlisting">
$ vipsthumbnail kgdev.jpg --iprofile cmyk 
</pre>
<p>
    (As before, the magic string <code class="literal">cmyk</code> selects a high-quality CMYK profile that’s built into libvips, but you can use any CMYK profile you like.)
  </p>
</div>
<div class="footer">
<hr>Generated by GTK-Doc V1.32</div>
</section>

    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-48550036-2', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
